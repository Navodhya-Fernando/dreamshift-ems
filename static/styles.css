/* Modern Professional UI for DreamShift EMS - Dark Theme */

/* Color Palette - Custom Dark Theme */
:root {
    --bg-main: #24101a;
    --bg-container: #411c30;
    --accent-primary: #411c30;
    --text-primary: #ffffff;
    --text-secondary: #cccccc;
    --danger-color: #ff4444;
    --success-color: #00ff88;
    --warning-color: #ffaa00;
    --border-color: #5a2d45;
    --shadow: 0 4px 12px rgba(0, 0, 0, 0.4);
    --shadow-lg: 0 8px 24px rgba(0, 0, 0, 0.6);
}

/* Global Styles */
    --accent-primary: #411c30;
    --text-primary: #ffffff;
    color: var(--text-primary) !important;
}

/* Override Streamlit defaults */
.main {
    background: var(--bg-main) !important;
}

.block-container {
    background: var(--bg-main) !important;
    padding: 2rem !important;
}

h1, h2, h3, h4, h5, h6, p, label {
    color: var(--text-primary) !important;
}

/* Hide Streamlit heading anchor icons/dashes */
[data-testid="stMarkdownContainer"] h1 a,
[data-testid="stMarkdownContainer"] h2 a,
[data-testid="stMarkdownContainer"] h3 a,
[data-testid="stMarkdownContainer"] h4 a,
[data-testid="stMarkdownContainer"] h5 a,
[data-testid="stMarkdownContainer"] h6 a {
    display: none !important;
}

/* Neutralize selected tab background (remove yellow fill) */
.stTabs [aria-selected="true"]{
  color: #ffffff;
    border-color: rgba(255,255,255,0.18) !important;
    color: #fff !important;
}
  color: rgba(255,255,255,0.50);
.stMarkdown {
    color: var(--text-primary) !important;
}
  color: rgba(255,255,255,0.92);

/* Custom Card */
.custom-card {
  color: #fff;
    border-radius: 12px;
    padding: 24px;
    box-shadow: var(--shadow);
  color: #411c30;
    border: 1px solid var(--border-color);
    transition: all 0.3s ease;
}

.custom-card:hover {
    box-shadow: var(--shadow-lg);
    transform: translateY(-2px);
    border-color: var(--accent-primary);
}

/* Task Card */
/* removed: handled by above for all buttons */
    box-shadow: var(--shadow);
    transition: all 0.2s ease;
    cursor: pointer;
}

/* removed: handled by above for all buttons */
}

.task-card-urgent {
    border-left-color: var(--danger-color);
    background: rgba(255, 68, 68, 0.1);
}

.task-card-warning {
    border-left-color: var(--warning-color);
    background: rgba(255, 170, 0, 0.1);
}

.task-card-success {
    border-left-color: var(--success-color);
    background: rgba(0, 255, 136, 0.1);
}

/* Buttons */
.btn-primary {
    background: #f6b900;
    color: #411c30;
    border: none;
    padding: 12px 24px;
    border-radius: 12px;
    font-weight: 700;
    cursor: pointer;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    box-shadow: 0 4px 12px rgba(246, 185, 0, 0.3);
}

.btn-primary:hover {
    background: #ffe500;
    color: #411c30;
    transform: translateY(-2px);
    box-shadow: 0 8px 24px rgba(246, 185, 0, 0.5);
}

.btn-secondary {
    background: var(--bg-container);
    color: var(--text-primary);
    border: 2px solid var(--accent-primary);
    padding: 10px 20px;
    border-radius: 6px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.2s ease;
}

.btn-secondary:hover {
    background: var(--accent-primary);
    color: var(--bg-main);
}

/* =========================
   Streamlit button theming
   - Default = subtle (ClickUp-like)
   - Primary = DreamShift yellow
   ========================= */

/* Default buttons (secondary/unspecified) */
 .stButton > button {
  background: rgba(255,255,255,0.06) !important;
  color: #fff !important;
  border: 1px solid rgba(255,255,255,0.12) !important;
  border-radius: 10px !important;
  font-weight: 650 !important;
  padding: 0.5rem 0.9rem !important;
  box-shadow: none !important;
  letter-spacing: 0.2px !important;
}

.stButton > button:hover,
  background: rgba(255,255,255,0.10) !important;
  color: #fff !important;
  border-color: rgba(255,255,255,0.18) !important;
  transform: none !important;
}

/* Primary buttons only */
.stButton > button[kind="primary"],
  background: #f6b900 !important;
  color: #411c30 !important;
  border: 1px solid #f6b900 !important;
  box-shadow: 0 6px 18px rgba(246,185,0,0.22) !important;
  font-weight: 800 !important;
}

.stButton > button[kind="primary"]:hover,
  background: #ffe500 !important;
  color: #411c30 !important;
  box-shadow: 0 10px 26px rgba(246,185,0,0.32) !important;
}

/* Make icon-only buttons tighter */
.stButton > button:has(span:empty) {
  padding: 0.45rem 0.65rem !important;
}

.btn-danger {
    background: var(--danger-color);
    color: var(--text-primary);
    border: none;
    padding: 10px 20px;
    border-radius: 6px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.2s ease;
}

/* Badge */
.badge {
    display: inline-block;
    padding: 4px 12px;
    border-radius: 12px;
    font-size: 12px;
    font-weight: 600;
    text-transform: uppercase;
}

.badge-primary {
    background: rgba(246, 185, 0, 0.2);
    color: var(--accent-primary);
    border: 1px solid var(--accent-primary);
}

.badge-success {
    background: rgba(0, 255, 136, 0.2);
    color: var(--success-color);
    border: 1px solid var(--success-color);
}

.badge-warning {
    background: rgba(255, 170, 0, 0.2);
    color: var(--warning-color);
    border: 1px solid var(--warning-color);
}

.badge-danger {
    background: rgba(255, 68, 68, 0.2);
    color: var(--danger-color);
    border: 1px solid var(--danger-color);
}

/* Metrics */
.metric-card {
    background: linear-gradient(135deg, var(--bg-container) 0%, #5a2d45 100%);
    color: var(--text-primary);
    border-radius: 12px;
    padding: 20px;
    box-shadow: var(--shadow);
    border: 1px solid var(--border-color);
    position: relative;
    overflow: hidden;
}

.metric-card::before {
    content: '';
    position: absolute;
    top: -50%;
    right: -50%;
    width: 200%;
    height: 200%;
    background: radial-gradient(circle, rgba(246, 185, 0, 0.1) 0%, transparent 70%);
    animation: pulse 3s infinite;
}

@keyframes pulse {
    0%, 100% { opacity: 0.5; }
    50% { opacity: 1; }
}

.metric-value {
    font-size: 2.5rem;
    font-weight: 700;
    margin: 8px 0;
    color: var(--accent-primary);
    position: relative;
    z-index: 1;
}

.metric-label {
    font-size: 0.875rem;
    opacity: 0.9;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    color: var(--text-secondary);
    position: relative;
    z-index: 1;
}

/* Progress Bar */
.progress-bar {
    width: 100%;
    height: 8px;
    background: rgba(255, 255, 255, 0.1);
    border-radius: 4px;
    overflow: hidden;
}

.progress-bar-fill {
    height: 100%;
    background: linear-gradient(90deg, var(--accent-primary) 0%, #ffc933 100%);
    transition: width 0.3s ease;
    box-shadow: 0 0 10px rgba(246, 185, 0, 0.5);
}

/* Avatar */
.avatar {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    background: var(--accent-primary);
    color: var(--bg-main);
    font-weight: 600;
    font-size: 16px;
    border: 2px solid var(--border-color);
}

/* Comment Box */
.comment-box {
    background: var(--bg-container);
    border-radius: 8px;
    padding: 12px;
    margin-bottom: 12px;
    border-left: 3px solid var(--accent-primary);
    border: 1px solid var(--border-color);
}

.comment-author {
    font-weight: 600;
    color: var(--accent-primary);
    margin-bottom: 4px;
}

.comment-time {
    font-size: 12px;
    color: var(--text-secondary);
}

/* Kanban Board */
.kanban-column {
    background: var(--bg-container);
    border-radius: 8px;
    padding: 16px;
    min-height: 400px;
    border: 1px solid var(--border-color);
}

.kanban-header {
    font-weight: 600;
    font-size: 14px;
    text-transform: uppercase;
    color: var(--accent-primary);
    margin-bottom: 16px;
    padding-bottom: 12px;
    border-bottom: 2px solid var(--border-color);
}

.kanban-card {
    background: var(--bg-main);
    border-radius: 6px;
    padding: 12px;
    margin-bottom: 8px;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
    cursor: move;
    border: 1px solid var(--border-color);
    transition: all 0.2s ease;
}

.kanban-card:hover {
    border-color: var(--accent-primary);
    transform: scale(1.02);
}

/* Animations */
@keyframes fadeIn {
    from {
        opacity: 0;
        transform: translateY(10px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.fade-in {
    animation: fadeIn 0.3s ease;
}

@keyframes slideIn {
    from {
        transform: translateX(-100%);
    }
    to {
        transform: translateX(0);
    }
}

.slide-in {
    animation: slideIn 0.3s ease;
}

/* Notification Badge */
.notification-badge {
    position: absolute;
    top: -5px;
    right: -5px;
    background: var(--danger-color);
    color: var(--text-primary);
    border-radius: 50%;
    width: 20px;
    height: 20px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 11px;
    font-weight: 700;
    border: 2px solid var(--bg-main);
}

/* Sidebar Enhancement */
.sidebar-section {
    background: var(--bg-container);
    border-radius: 8px;
    padding: 16px;
    margin-bottom: 16px;
    box-shadow: var(--shadow);
    border: 1px solid var(--border-color);
}

/* Time Tracker */
.timer-display {
    font-size: 2rem;
    font-weight: 700;
    text-align: center;
    color: var(--accent-primary);
    font-family: 'Courier New', monospace;
    padding: 20px;
    background: var(--bg-container);
    border-radius: 8px;
    margin: 16px 0;
    border: 2px solid var(--accent-primary);
    box-shadow: 0 0 20px rgba(246, 185, 0, 0.3);
}

/* Calendar Styles */
.calendar-day {
    border: 1px solid var(--border-color);
    border-radius: 4px;
    padding: 8px;
    min-height: 80px;
    background: var(--bg-container);
    transition: all 0.2s ease;
}

.calendar-day:hover {
    background: rgba(246, 185, 0, 0.1);
    cursor: pointer;
    border-color: var(--accent-primary);
}

.calendar-event {
    background: var(--accent-primary);
    color: var(--bg-main);
    padding: 4px 8px;
    border-radius: 4px;
    font-size: 12px;
    margin-bottom: 4px;
    font-weight: 600;
}

/* Streamlit specific overrides */


.stTextInput > div > div > input,
.stTextArea > div > div > textarea,
.stSelectbox > div > div > select {
    background: var(--bg-container) !important;
    color: var(--text-primary) !important;
    border: 1px solid var(--border-color) !important;
    border-radius: 6px !important;
}

.stTextInput > div > div > input:focus,
.stTextArea > div > div > textarea:focus {
    border-color: var(--accent-primary) !important;
    box-shadow: 0 0 0 1px var(--accent-primary) !important;
}

/* Sidebar styling */
section[data-testid="stSidebar"] {
    background: var(--bg-container) !important;
    border-right: 1px solid var(--border-color) !important;
}

section[data-testid="stSidebar"] > div {
    background: var(--bg-container) !important;
}

/* Tab styling */
.stTabs [data-baseweb="tab-list"] {
    background: var(--bg-container) !important;
    border-radius: 8px !important;
    padding: 4px !important;
    border: 1px solid var(--border-color) !important;
}

.stTabs [data-baseweb="tab"] {
    color: var(--text-secondary) !important;
    background: transparent !important;
    border-radius: 6px !important;
}

.stTabs [aria-selected="true"] {
    background: var(--accent-primary) !important;
    color: var(--bg-main) !important;
    font-weight: 600 !important;
}

/* Expander */
.streamlit-expanderHeader {
    background: var(--bg-container) !important;
    color: var(--text-primary) !important;
    border: 1px solid var(--border-color) !important;
    border-radius: 6px !important;
}

.streamlit-expanderHeader:hover {
    border-color: var(--accent-primary) !important;
}

/* Metric */
[data-testid="stMetricValue"] {
    color: var(--accent-primary) !important;
}

[data-testid="stMetricLabel"] {
    color: var(--text-secondary) !important;
}

/* ========== Page Header ========== */
.ds-page-head{
  display:flex;
  justify-content:space-between;
  align-items:flex-end;
  gap: 12px;
  margin: 6px 0 10px;
}

.ds-page-title{
  margin:0;
  font-size: 1.8rem;
  font-weight: 900;
  color: var(--text-primary);
  letter-spacing:-0.3px;
}

.ds-page-sub{
  margin:6px 0 0;
  color: var(--text-muted);
}

.ds-page-actions{
  display:flex;
  gap: 10px;
  align-items:center;
}

.ds-link-btn{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  padding: 0.62rem 0.9rem;
  border-radius: 12px;
  border: 1px solid rgba(255,255,255,0.12);
  background: rgba(255,255,255,0.04);
  color: rgba(255,255,255,0.92);
  text-decoration: none;
  font-weight: 800;
}

.ds-link-btn:hover{
  background: rgba(255,255,255,0.06);
  border-color: rgba(255,255,255,0.16);
  color: rgba(255,255,255,0.98);
}

.ds-card-title{
  color: rgba(255,255,255,0.95);
  font-weight: 900;
  margin-bottom: 6px;
}

.ds-card-sub{
  color: var(--text-muted);
  font-size: 0.92rem;
}

.ds-danger{
  color: var(--danger-primary) !important;
}

.ds-footer{
  text-align:center;
  color: rgba(255,255,255,0.65);
  padding: 6px 0 10px;
}

/* ========== Projects Page ========== */
.ds-metrics-4{
  grid-template-columns: repeat(4, minmax(0,1fr));
}

.ds-project-card{
  padding: 16px;
}

.ds-project-top{
  display:flex;
  justify-content:space-between;
  align-items:flex-start;
  gap: 10px;
  margin-bottom: 10px;
}

.ds-project-title{
  font-weight: 900;
  color: #f6b900;
  font-size: 1.05rem;
  margin: 0;
}

.ds-project-desc{
  margin-top: 6px;
  color: var(--text-muted);
  font-size: 0.92rem;
}

.ds-project-meta{
  display:grid;
  grid-template-columns: repeat(3, minmax(0,1fr));
  gap: 10px;
  margin: 10px 0 12px;
}

.ds-project-meta-item{
  background: rgba(255,255,255,0.03);
  border: 1px solid rgba(255,255,255,0.08);
  border-radius: 12px;
  padding: 10px;
}

.ds-project-meta-label{
  color: rgba(255,255,255,0.65);
  font-size: 0.72rem;
  letter-spacing: 0.10em;
  text-transform: uppercase;
}

.ds-project-meta-value{
  color: rgba(255,255,255,0.92);
  font-weight: 850;
  margin-top: 6px;
}

.ds-project-tags{
  display:flex;
  gap: 8px;
  flex-wrap:wrap;
  margin-top: 10px;
}

/* Responsive */
@media (max-width: 768px) {
    .custom-card {
        padding: 16px;
    }
    
    .metric-value {
        font-size: 2rem;
    }
    
    .block-container {
        padding: 1rem !important;
    }
    
    .ds-metrics-4{
        grid-template-columns: repeat(2, minmax(0,1fr));
    }
    
    .ds-project-meta{
        grid-template-columns: repeat(2, minmax(0,1fr));
    }

}

/* Hide detail/template pages from sidebar navigation */
section[data-testid="stSidebar"] a[href*="project_details"],
section[data-testid="stSidebar"] a[href*="task_details"],
section[data-testid="stSidebar"] a[href*="task_templates"] {
    display: none !important;
}

/* === CALENDAR === */

.calendar-shell {
    background: #411c30;
    border-radius: 14px;
    padding: 16px;
}

/* Day headers */
.calendar-header {
    text-align: center;
    font-size: 12px;
    font-weight: 600;
    color: rgba(255,255,255,0.6);
    padding: 8px 0;
}

/* Day cell */
.calendar-day {
    background: #24101a;
    min-height: 110px;
    padding: 8px;
    border-radius: 10px;
    transition: background 0.2s ease;
}

.calendar-day:hover {
    background: rgba(255,255,255,0.03);
}

/* Today */
.calendar-today {
    outline: 2px solid #f6b900;
}

/* Day number */
.calendar-date {
    font-size: 13px;
    font-weight: 600;
    margin-bottom: 6px;
    color: #ffffff;
}

/* Task dot */
.calendar-task-dot {
    width: 6px;
    height: 6px;
    border-radius: 50%;
    margin-right: 6px;
}

/* Task row */
.calendar-task {
    display: flex;
    align-items: center;
    font-size: 11px;
    color: rgba(255,255,255,0.75);
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    margin-bottom: 4px;
}

/* More */
.calendar-more {
    font-size: 10px;
    color: #f6b900;
}

.calendar-integration {
    background: rgba(255,255,255,0.04);
    border-radius: 12px;
    padding: 14px;
}

/* DreamShift Design System - Profile Page Styles */

.ds-shell { margin-bottom: 12px; }

.ds-pagehead{
  display:flex;
  justify-content:space-between;
  align-items:center;
  gap:16px;
  padding:16px;
  border-radius:14px;
  background: rgba(255,255,255,0.03);
  border: 1px solid rgba(255,255,255,0.06);
}

.ds-pagehead-left{ display:flex; align-items:center; gap:12px; }

.ds-avatar{
  width:48px; height:48px;
  border-radius:14px;
  display:grid; place-items:center;
  font-weight:900;
  color:#f6b900;
  background: rgba(246,185,0,0.14);
  border: 1px solid rgba(246,185,0,0.25);
}

.ds-title{
  font-size:20px;
  font-weight:900;
  color:#fff;
  line-height:1.2;
}

.ds-subtitle{
  margin-top:2px;
  font-size:12px;
  color: rgba(255,255,255,0.62);
}

.ds-dot{ margin: 0 6px; color: rgba(255,255,255,0.35); }

.ds-btn-row{ display:flex; gap:10px; }

.ds-ghost{
  background: transparent;
  border: 1px solid rgba(255,255,255,0.10);
  color: rgba(255,255,255,0.75);
  border-radius: 12px;
  padding: 8px 10px;
  font-weight: 700;
  font-size: 12px;
}

.ds-ghost:disabled{
  opacity: 0.6;
  cursor: not-allowed;
}

.ds-section{
  font-weight: 800;
  color: rgba(255,255,255,0.85);
  margin: 4px 0 10px 0;
  display:flex;
  align-items:center;
  gap:8px;
}

.ds-count{
  font-size: 12px;
  padding: 2px 8px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,0.10);
  color: rgba(255,255,255,0.65);
}

.ds-card{
  background: rgba(255,255,255,0.02);
  border: 1px solid rgba(255,255,255,0.06);
  border-radius: 14px;
  padding: 12px;
  margin-bottom: 10px;
}

.ds-card-title{
  font-size: 14px;
  font-weight: 800;
  color: #fff;
}

.ds-card-sub{
  margin-top: 4px;
  font-size: 12px;
  color: rgba(255,255,255,0.60);
}

.ds-panel{
  background: rgba(255,255,255,0.03);
  border: 1px solid rgba(255,255,255,0.06);
  border-radius: 14px;
  padding: 14px;
}

.ds-panel-title{
  font-size: 12px;
  letter-spacing: .4px;
  text-transform: uppercase;
  color: rgba(255,255,255,0.60);
  font-weight: 800;
}

.ds-big{
  font-size: 34px;
  font-weight: 950;
  color: #fff;
  margin-top: 6px;
}

.ds-muted{
  margin-top: 4px;
  color: rgba(255,255,255,0.60);
  font-size: 12px;
}

.ds-row{
  display:flex;
  justify-content:space-between;
  align-items:center;
  gap:14px;
  background: rgba(255,255,255,0.02);
  border: 1px solid rgba(255,255,255,0.06);
  border-radius: 14px;
  padding: 12px;
  margin-bottom: 10px;
}

.ds-row-title{
  font-size: 14px;
  font-weight: 800;
  color: #fff;
}

.ds-row-sub{
  margin-top: 3px;
  font-size: 12px;
  color: rgba(255,255,255,0.60);
}

.ds-pill{
  padding: 6px 10px;
  border-radius: 999px;
  border: 1px solid rgba(246,185,0,0.25);
  background: rgba(246,185,0,0.10);
  color: #f6b900;
  font-size: 12px;
  font-weight: 900;
  white-space: nowrap;
}

.ds-footer{
  text-align:center;
  margin-top: 18px;
  color: rgba(255,255,255,0.55);
  font-size: 12px;
}

/* ========== ClickUp-style Comment Cards ========== */
.ds-chat-card{
  background: rgba(17, 24, 39, 0.55);
  border: 1px solid rgba(255,255,255,0.08);
  border-radius: 14px;
  padding: 12px 14px;
  margin: 10px 0 6px;
  box-shadow: 0 6px 18px rgba(0,0,0,0.20);
}

.ds-chat-header{
  display:flex;
  justify-content:space-between;
  align-items:flex-start;
  gap:12px;
}

.ds-chat-author{
  font-weight: 750;
  font-size: 14px;
  color: rgba(255,255,255,0.94);
}

.ds-chat-time{
  font-size: 12px;
  color: rgba(255,255,255,0.55);
  white-space: nowrap;
}

/* Message body */
.ds-chat-body{
  margin-top: 8px;
  font-size: 14px;
  line-height: 1.45;
  color: rgba(255,255,255,0.88);
  word-break: break-word;
}

/* Mention chip */
.ds-mention{
  display:inline-flex;
  align-items:center;
  padding: 2px 8px;
  border-radius: 999px;
  background: rgba(245, 158, 11, 0.16);
  border: 1px solid rgba(245, 158, 11, 0.25);
  color: #fbbf24;
  font-weight: 650;
}

/* Quote block */
.ds-quote{
  margin: 10px 0;
  padding: 10px 12px;
  border-left: 3px solid rgba(245,158,11,0.7);
  background: rgba(0,0,0,0.18);
  border-radius: 12px;
}

.ds-quote-author{
  font-size: 12px;
  color: rgba(255,255,255,0.7);
  margin-bottom: 4px;
}

.ds-quote-text{
  font-size: 13px;
  color: rgba(255,255,255,0.85);
}

/* Deleted comment styling */
.ds-deleted-card{
  opacity: 0.75;
  border-style: dashed;
}

.ds-deleted{
  color: rgba(255,255,255,0.60);
  font-style: italic;
}

/* Badges (pinned, edited, edit history) - now inline in action row */
.ds-pin-badge, .ds-edited, .ds-edit-history{
  display: inline-block;
  font-size: 11px;
  padding: 2px 8px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,0.10);
  background: rgba(255,255,255,0.06);
  color: rgba(255,255,255,0.75);
  margin-right: 6px;
}

/* Thread depth indentation with arrows */
.ds-indent-1, .ds-indent-2, .ds-indent-3{
  position: relative;
  margin-top: 8px;
}

.ds-indent-1{ margin-left: 34px; }
.ds-indent-2{ margin-left: 68px; }
.ds-indent-3{ margin-left: 102px; }

/* Connector "arrow" */
.ds-indent-1::before,
.ds-indent-2::before,
.ds-indent-3::before{
  content: "↳";
  position: absolute;
  left: -22px;
  top: 14px;
  color: rgba(246,185,0,0.75);
  font-weight: 900;
  font-size: 16px;
}

/* Optional faint vertical line like ClickUp thread */
.ds-indent-1::after,
.ds-indent-2::after,
.ds-indent-3::after{
  content: "";
  position: absolute;
  left: -14px;
  top: -10px;
  bottom: -10px;
  width: 2px;
  background: rgba(246,185,0,0.15);
  border-radius: 2px;
}

/* Continue thread link */
.ds-continue-thread{
  display: inline-block;
  margin: 8px 0 0 28px;
  padding: 6px 12px;
  border-radius: 999px;
  background: rgba(255,255,255,0.04);
  border: 1px solid rgba(255,255,255,0.08);
  color: rgba(255,255,255,0.70);
  font-size: 12px;
  font-weight: 650;
  text-decoration: none;
  transition: all 0.2s ease;
}

.ds-continue-thread:hover{
  background: rgba(255,255,255,0.08);
  border-color: rgba(255,255,255,0.15);
  color: rgba(255,255,255,0.85);
}

/* ========== Compact Action Row (ClickUp-style) ========== */
.ds-actions-row{
  margin: 6px 0 12px;
}

/* Make all buttons in action row compact and subtle */
.ds-actions-row button{
  border-radius: 10px !important;
  padding: 6px 10px !important;
  font-weight: 650 !important;
  box-shadow: none !important;
  font-size: 13px !important;
}

/* Secondary buttons = subtle chip style */
.ds-actions-row button[kind="secondary"]{
  background: rgba(255,255,255,0.06) !important;
  border: 1px solid rgba(255,255,255,0.10) !important;
  color: rgba(255,255,255,0.88) !important;
}

.ds-actions-row button[kind="secondary"]:hover{
  background: rgba(255,255,255,0.10) !important;
  border-color: rgba(255,255,255,0.16) !important;
}

/* Reaction buttons = even more compact chips */
.ds-actions-row .ds-react button{
  padding: 5px 8px !important;
  border-radius: 999px !important;
  font-weight: 700 !important;
  font-size: 12px !important;
}

/* Reduce column padding in action row */
.ds-actions-row div[data-testid="column"]{
  padding-top: 0px !important;
  padding-bottom: 0px !important;
}

/* ===== Icon-only button styling (ClickUp action bar) ===== */
/* Make icon buttons compact and square-ish */
.stButton > button {
  min-height: 34px !important;
  height: 34px !important;
  border-radius: 8px !important;
}

/* Icon-only buttons: smaller and centered (38x38) */
.stButton > button:has(span:only-child) {
  width: 38px !important;
  min-width: 38px !important;
  padding: 0 !important;
  display: inline-flex !important;
  align-items: center !important;
  justify-content: center !important;
  font-size: 14px !important;
}

/* Fallback for browsers without :has() support */
@supports not selector(:has()) {
  .stButton > button[kind="secondary"] {
    padding: 0 8px !important;
  }
}

/* ═══════════════════════════════════════════════════════════════════════════
   UI COMPONENT STYLING - CONSOLIDATED FROM ui.py
   All styling centralized here for single-source-of-truth maintenance
   ═══════════════════════════════════════════════════════════════════════════ */

/* Base dark theme variables */
:root {
  --ds-bg: #0b1220;
  --ds-card: rgba(255,255,255,0.06);
  --ds-border: rgba(255,255,255,0.12);
  --ds-text: rgba(255,255,255,0.88);
  --ds-muted: rgba(255,255,255,0.60);
  --ds-accent: #411c30;
}

.block-container { 
  padding-top: 1.2rem; 
  padding-bottom: 2rem; 
  max-width: 1200px; 
}

/* Cards */
.ds-card {
  background: var(--ds-card);
  border: 1px solid var(--ds-border);
  border-radius: 14px;
  padding: 16px;
}

.ds-title { font-size: 22px; font-weight: 800; color: #fff; margin: 0; }
.ds-subtitle { color: var(--ds-muted); margin-top: 6px; font-size: 14px; }

.ds-row { display:flex; gap:10px; flex-wrap: wrap; align-items:center; }
.ds-pill {
  display:inline-flex; gap:8px; align-items:center;
  padding: 7px 10px; border-radius: 10px;
  border: 1px solid var(--ds-border);
  background: rgba(255,255,255,0.03);
  color: var(--ds-muted); font-size: 12px; font-weight: 600;
}
.ds-pill b { color: #fff; font-weight: 800; }

/* Chat Cards - Modern Dark Theme */
.ds-chat-card { 
  background: #411c30 !important;
  border: 1px solid rgba(255,255,255,0.10);
  border-radius: 16px; 
  padding: 18px 20px; 
  margin-bottom: 14px;
  box-shadow: 0 8px 22px rgba(0,0,0,0.28);
  transition: all 0.2s ease;
}
.ds-chat-card:hover {
  border-color: rgba(246,185,0,0.20);
  box-shadow: 0 10px 28px rgba(0,0,0,0.35);
}

.ds-indent { 
  margin-left: 32px;
  border-left: 2px solid rgba(246,185,0,0.2);
  padding-left: 16px;
}

.ds-chat-top {
  display: flex;
  justify-content: space-between;
  gap: 12px;
  align-items: center;
  margin-bottom: 12px;
}

.ds-chat-author { 
  color: #f6b900;
  font-weight: 900; 
  font-size: 14px;
  letter-spacing: 0.3px;
}

.ds-chat-meta {
  display: flex;
  gap: 12px;
  align-items: center;
  color: #f6b900;
  font-size: 12px;
}

.ds-chat-text { 
  color: #f6b900;
  font-size: 14px; 
  line-height: 1.65;
  margin-bottom: 14px;
}

.ds-pin-badge {
  padding: 4px 10px; 
  border-radius: 999px;
  background: linear-gradient(135deg, #411c30 0%, #2d1420 100%);
  color: #f6b900;
  font-size: 10px;
  font-weight: 900;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  box-shadow: 0 2px 6px rgba(65,28,48,0.3);
}

.ds-edited {
  color: rgba(255,255,255,0.45);
  font-size: 11px;
  font-style: italic;
}

.ds-deleted {
  color: rgba(255,255,255,0.45);
  font-style: italic;
}

.ds-mention {
  color: #f6b900 !important;
  font-weight: 900;
  background: rgba(246,185,0,0.12);
  border: 1px solid rgba(246,185,0,0.25);
  padding: 2px 8px;
  border-radius: 999px;
}

/* ═══════════════════════════════════════════════════════
   PROFESSIONAL BUTTON STYLING (Modern & Consistent)
   ═══════════════════════════════════════════════════════ */

/* Base button styling - applies to all buttons */
.stButton > button,
.stFormSubmitButton > button,
.stForm button {
  border-radius: 8px !important;
  font-weight: 600 !important;
  font-size: 14px !important;
  transition: all 0.2s cubic-bezier(0.2, 0, 0, 1) !important;
  cursor: pointer !important;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.12) !important;
}

/* Secondary buttons (default - all non-primary) */
.stButton > button:not([kind="primary"]),
.stFormSubmitButton > button:not([kind="primary"]),
.stForm button:not([kind="primary"]) {
  background: linear-gradient(135deg, rgba(255,255,255,0.08) 0%, rgba(255,255,255,0.04) 100%) !important;
  border: 1px solid rgba(255,255,255,0.12) !important;
  color: rgba(255,255,255,0.88) !important;
  padding: 10px 18px !important;
}

.stButton > button:not([kind="primary"]):hover,
.stFormSubmitButton > button:not([kind="primary"]):hover,
.stForm button:not([kind="primary"]):hover {
  background: linear-gradient(135deg, rgba(255,255,255,0.12) 0%, rgba(255,255,255,0.08) 100%) !important;
  border-color: rgba(255,255,255,0.18) !important;
  color: #ffffff !important;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15) !important;
}

/* Primary buttons (CTA - purple gradient) */
.stButton > button[kind="primary"],
.stFormSubmitButton > button[kind="primary"],
.stForm button[kind="primary"] {
  background: linear-gradient(135deg, #411c30 0%, #2d1420 100%) !important;
  border: 1px solid rgba(65,28,48,0.4) !important;
  color: #ffffff !important;
  padding: 11px 24px !important;
  font-weight: 700 !important;
  box-shadow: 0 4px 14px rgba(65,28,48,0.25) !important;
}

.stButton > button[kind="primary"]:hover,
.stFormSubmitButton > button[kind="primary"]:hover,
.stForm button[kind="primary"]:hover {
  background: linear-gradient(135deg, #6b3a50 0%, #411c30 100%) !important;
  border-color: rgba(65,28,48,0.5) !important;
  box-shadow: 0 6px 18px rgba(65,28,48,0.35) !important;
  transform: translateY(-1px);
}

.stButton > button[kind="primary"]:active,
.stFormSubmitButton > button[kind="primary"]:active,
.stForm button[kind="primary"]:active {
  transform: translateY(0px) !important;
  box-shadow: 0 2px 8px rgba(65,28,48,0.2) !important;
}

/* Compact icon buttons (in action rows) */
.stButton > button:has(span:only-child) {
  width: 38px !important;
  min-width: 38px !important;
  height: 38px !important;
  min-height: 38px !important;
  padding: 0 !important;
  display: inline-flex !important;
  align-items: center !important;
  justify-content: center !important;
  font-size: 16px !important;
}

/* Reaction buttons - compact chips */
.ds-react button {
  background: rgba(255,255,255,0.06) !important;
  border: 1px solid rgba(255,255,255,0.12) !important;
  border-radius: 12px !important;
  padding: 6px 10px !important;
  min-height: 30px !important;
  color: rgba(255,255,255,0.82) !important;
  font-weight: 700 !important;
  font-size: 12px !important;
  transition: all 0.2s ease !important;
  box-shadow: none !important;
}

.ds-react button:hover {
  background: rgba(255,255,255,0.10) !important;
  border-color: rgba(255,255,255,0.18) !important;
  color: #ffffff !important;
}

/* Hide heading anchor icons/dashes added by Streamlit */
[data-testid="stMarkdownContainer"] h1 a,
[data-testid="stMarkdownContainer"] h2 a,
[data-testid="stMarkdownContainer"] h3 a,
[data-testid="stMarkdownContainer"] h4 a,
[data-testid="stMarkdownContainer"] h5 a,
[data-testid="stMarkdownContainer"] h6 a {
  display: none !important;
}

/* Hide Streamlit Branding */
#MainMenu {visibility: hidden;}
footer {visibility: hidden;}
header {visibility: hidden;}

/* ═══════════════════════════════════════════════════════
   ANIMATION & ENHANCEMENT EFFECTS
   ═══════════════════════════════════════════════════════ */

/* Metric Cards with Pulse Animation */
@keyframes metric-pulse {
  0%, 100% { 
    box-shadow: 0 0 0 0 rgba(65,28,48,0.4);
    transform: scale(1);
  }
  50% { 
    box-shadow: 0 0 0 8px rgba(65,28,48,0);
    transform: scale(1.02);
  }
}

.ds-metric-pulse {
  animation: metric-pulse 2s ease-in-out infinite;
  background: linear-gradient(135deg, rgba(246,185,0,0.08) 0%, rgba(246,185,0,0.03) 100%);
  border: 1px solid rgba(246,185,0,0.25);
  border-radius: 12px;
  padding: 16px;
  transition: all 0.3s ease;
}

.ds-metric-pulse:hover {
  transform: scale(1.05) !important;
  box-shadow: 0 8px 24px rgba(65,28,48,0.2) !important;
}

/* Task Cards with Urgency Color Coding */
.ds-task-card {
  background: var(--ds-card);
  border: 1px solid var(--ds-border);
  border-radius: 14px;
  padding: 16px;
  margin-bottom: 10px;
  border-left: 4px solid var(--urgency-color, #888);
  transition: all 0.2s ease;
}

.ds-task-card:hover {
  transform: translateX(4px);
  box-shadow: 0 4px 16px rgba(0,0,0,0.2);
}

.ds-task-low { --urgency-color: #4caf50; } /* Green */
.ds-task-medium { --urgency-color: #ffca28; } /* Yellow */
.ds-task-high { --urgency-color: #ff9800; } /* Orange */
.ds-task-critical { --urgency-color: #f44336; } /* Red */

/* Thread Depth Limiting (max 3 levels) */
.ds-indent-1 { 
  margin-left: 32px;
  border-left: 2px solid rgba(246,185,0,0.2);
  padding-left: 16px;
}

.ds-indent-2 { 
  margin-left: 64px;
  border-left: 2px solid rgba(246,185,0,0.15);
  padding-left: 16px;
}

.ds-indent-3 { 
  margin-left: 96px;
  border-left: 2px solid rgba(246,185,0,0.1);
  padding-left: 16px;
}

.ds-continue-thread {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 6px 12px;
  border-radius: 999px;
  background: rgba(65,28,48,0.1);
  border: 1px solid rgba(65,28,48,0.3);
  color: #411c30;
  font-size: 12px;
  font-weight: 700;
  cursor: pointer;
  transition: all 0.2s ease;
  margin-top: 8px;
  text-decoration: none;
}

.ds-continue-thread:hover {
  background: rgba(246,185,0,0.2);
  transform: translateX(4px);
}

/* Quote Reply Styling */
.ds-quote {
  border-left: 3px solid rgba(246,185,0,0.5);
  padding: 8px 12px;
  margin: 8px 0;
  background: rgba(255,255,255,0.03);
  border-radius: 6px;
  font-style: italic;
  color: rgba(255,255,255,0.70);
  font-size: 13px;
}

.ds-quote-author {
  color: #f6b900;
  font-weight: 800;
  font-style: normal;
  margin-bottom: 4px;
}

/* Edit History Badge */
.ds-edit-history {
  display: inline-flex;
  align-items: center;
  gap: 4px;
  padding: 3px 8px;
  border-radius: 999px;
  background: rgba(33,150,243,0.1);
  border: 1px solid rgba(33,150,243,0.3);
  color: #2196f3;
  font-size: 10px;
  font-weight: 700;
  cursor: pointer;
  transition: all 0.2s ease;
}

.ds-edit-history:hover {
  background: rgba(33,150,243,0.2);
}

/* ═══════════════════════════════════════════════════════════════════════════
   LAYOUT DENSITY FIXES - Remove Phantom Spacing
   ═══════════════════════════════════════════════════════════════════════════ */

/* Remove empty Streamlit block spacing */
div[data-testid="stVerticalBlock"]:empty {
  display: none !important;
}

/* Tighten layout - remove excessive margins */
.block-container > div {
  margin-bottom: 0 !important;
}

/* Reduce markdown wrapper spacing */
[data-testid="stMarkdownContainer"] {
  margin-bottom: 0.25rem !important;
}

/* Reduce column spacing */
.stColumn {
  gap: 0.5rem !important;
}

/* Tighten expander spacing */
[data-testid="stExpander"] {
  margin-bottom: 0.5rem !important;
}

